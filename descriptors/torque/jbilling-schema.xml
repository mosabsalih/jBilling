<?xml version="1.0"?>
<!DOCTYPE database SYSTEM "http://db.apache.org/torque/dtd/database_3_2.dtd">
<!-- Autogenerated by JDBCToXMLSchema! -->
<database name="postgres">
    <table name="ach">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="user_id" type="INTEGER"/>
        <column name="aba_routing" required="true" size="40" type="VARCHAR"/>
        <column name="bank_account" required="true" size="60" type="VARCHAR"/>
        <column name="account_type" required="true" type="INTEGER"/>
        <column name="bank_name" required="true" size="50" type="VARCHAR"/>
        <column name="account_name" required="true" size="100" type="VARCHAR"/>
        <column name="gateway_key" size="100" type="VARCHAR"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        
        <index name="ach_i_2">
            <index-column name="user_id"/>
        </index>
        <foreign-key foreignTable="base_user">
            <reference foreign="id" local="user_id"/>
        </foreign-key>
    </table>
    <table name="ageing_entity_step">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="entity_id" type="INTEGER"/>
        <column name="status_id" type="INTEGER"/>
        <column name="days" required="true" type="INTEGER"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <foreign-key foreignTable="generic_status">
            <reference foreign="id" local="status_id"/>
        </foreign-key>
        <foreign-key foreignTable="entity">
            <reference foreign="id" local="entity_id"/>
        </foreign-key>
    </table>
    <table name="base_user">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="entity_id" type="INTEGER"/>
        <column name="password" size="40" type="VARCHAR"/>
        <column default="0" name="deleted" required="true" type="SMALLINT"/>
        <column name="language_id" type="INTEGER"/>
        <column name="status_id" type="INTEGER"/>
        <column name="subscriber_status" type="INTEGER" default="1"/>
        <column name="currency_id" type="INTEGER"/>
        <column name="create_datetime" required="true" type="TIMESTAMP"/>
        <column name="last_status_change" type="TIMESTAMP"/>
        <column name="last_login" type="TIMESTAMP"/>
        <column name="user_name" size="50" type="VARCHAR"/>
        <column name="failed_attempts" type="INTEGER" required="true" default="0"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <index name="ix_base_user_un">
            <index-column name="entity_id"/>
            <index-column name="user_name"/>
        </index>
        <foreign-key foreignTable="generic_status">
            <reference foreign="id" local="status_id"/>
        </foreign-key>
        <foreign-key foreignTable="generic_status">
            <reference foreign="id" local="subscriber_status"/>
        </foreign-key>
        <foreign-key foreignTable="entity">
            <reference foreign="id" local="entity_id"/>
        </foreign-key>
        <foreign-key foreignTable="language">
            <reference foreign="id" local="language_id"/>
        </foreign-key>
        <foreign-key foreignTable="currency">
            <reference foreign="id" local="currency_id"/>
        </foreign-key>
    </table>
    <table name="billing_process">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="entity_id" required="true" type="INTEGER"/>
        <column name="billing_date" required="true" type="DATE"/>
        <column name="period_unit_id" required="true" type="INTEGER"/>
        <column name="period_value" required="true" type="INTEGER"/>
        <column name="is_review" required="true" type="INTEGER"/>
        <column name="paper_invoice_batch_id" type="INTEGER"/>
        <column default="0" name="retries_to_do" required="true" type="INTEGER"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <foreign-key foreignTable="period_unit">
            <reference foreign="id" local="period_unit_id"/>
        </foreign-key>
        <foreign-key foreignTable="entity">
            <reference foreign="id" local="entity_id"/>
        </foreign-key>
        <foreign-key foreignTable="paper_invoice_batch">
            <reference foreign="id" local="paper_invoice_batch_id"/>
        </foreign-key>
    </table>
    <table name="billing_process_configuration">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="entity_id" type="INTEGER"/>
        <column name="next_run_date" required="true" type="DATE"/>
        <column name="generate_report" required="true" type="SMALLINT"/>
        <column name="retries" type="INTEGER"/>
        <column name="days_for_retry" type="INTEGER"/>
        <column name="days_for_report" type="INTEGER"/>
        <column name="review_status" required="true" type="INTEGER"/>
        <column name="period_unit_id" required="true" type="INTEGER"/>
        <column name="period_value" required="true" type="INTEGER"/>
        <column name="due_date_unit_id" required="true" type="INTEGER"/>
        <column name="due_date_value" required="true" type="INTEGER"/>
        <column name="df_fm" type="SMALLINT"/>
        <column default="1" name="only_recurring" required="true" type="SMALLINT"/>
        <column name="invoice_date_process" required="true" type="SMALLINT"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <column default="0" name="auto_payment" required="true" type="SMALLINT"/>
        <column default="1" name="maximum_periods" required="true" type="INTEGER"/>
        <column default="0" name="auto_payment_application"
                required="true" type="INTEGER"/>
        <foreign-key foreignTable="period_unit">
            <reference foreign="id" local="period_unit_id"/>
        </foreign-key>
        <foreign-key foreignTable="entity">
            <reference foreign="id" local="entity_id"/>
        </foreign-key>
    </table>
    <table name="breadcrumb">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="user_id" required="true" type="INTEGER"/>
        <column name="controller" required="true" size="255" type="VARCHAR"/>
        <column name="action" size="255" type="VARCHAR"/>
        <column name="name" size="255" type="VARCHAR"/>
        <column name="object_id" type="INTEGER"/>
        <column name="description" size="255" type="VARCHAR"/>
        <column name="version" required="true" type="INTEGER"/>
    </table>
    <table name="process_run">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="process_id" type="INTEGER"/>
        <column name="run_date" required="true" type="DATE"/>
        <column name="started" required="true" type="TIMESTAMP"/>
        <column name="finished" type="TIMESTAMP"/>
        <column name="payment_finished" type="TIMESTAMP"/>
        <column name="invoices_generated" type="INTEGER"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <column name="status_id" required="true" type="INTEGER"/>
        <index name="bp_run_process_ix">
            <index-column name="process_id"/>
        </index>
        <foreign-key foreignTable="billing_process">
            <reference foreign="id" local="process_id"/>
        </foreign-key>
        <foreign-key foreignTable="generic_status">
            <reference foreign="id" local="status_id"/>
        </foreign-key>
    </table>
    <table name="process_run_total">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="process_run_id" type="INTEGER"/>
        <column name="currency_id" required="true" type="INTEGER"/>
        <column name="total_invoiced" type="NUMERIC" size="22" scale="10"/>
        <column name="total_paid" type="NUMERIC" size="22" scale="10"/>
        <column name="total_not_paid" type="NUMERIC" size="22" scale="10"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <index name="bp_run_total_run_ix">
            <index-column name="process_run_id"/>
        </index>
        <foreign-key foreignTable="currency">
            <reference foreign="id" local="currency_id"/>
        </foreign-key>
        <foreign-key foreignTable="process_run">
            <reference foreign="id" local="process_run_id"/>
        </foreign-key>
    </table>
    <table name="process_run_total_pm">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="process_run_total_id" type="INTEGER"/>
        <column name="payment_method_id" type="INTEGER"/>
        <column name="total" required="true" type="NUMERIC" size="22" scale="10"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <index name="bp_pm_index_total">
            <index-column name="process_run_total_id"/>
        </index>
        <foreign-key foreignTable="payment_method">
            <reference foreign="id" local="payment_method_id"/>
        </foreign-key>
    </table>
    <table name="process_run_user">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="process_run_id" required="true" type="INTEGER"/>
        <column name="user_id" required="true" type="INTEGER"/>
        <column name="status" required="true" type="INTEGER"/>
        <column name="created" required="true" type="DATE"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <index name="bp_run_user_run_ix">
            <index-column name="process_run_id"/>
            <index-column name="user_id"/>
        </index>
        <foreign-key foreignTable="base_user">
            <reference foreign="id" local="user_id"/>
        </foreign-key>
        <foreign-key foreignTable="process_run">
            <reference foreign="id" local="process_run_id"/>
        </foreign-key>
    </table>
    <table name="contact">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="organization_name" size="200" type="VARCHAR"/>
        <column name="street_addres1" size="100" type="VARCHAR"/>
        <column name="street_addres2" size="100" type="VARCHAR"/>
        <column name="city" size="50" type="VARCHAR"/>
        <column name="state_province" size="30" type="VARCHAR"/>
        <column name="postal_code" size="15" type="VARCHAR"/>
        <column name="country_code" size="2" type="VARCHAR"/>
        <column name="last_name" size="30" type="VARCHAR"/>
        <column name="first_name" size="30" type="VARCHAR"/>
        <column name="person_initial" size="5" type="VARCHAR"/>
        <column name="person_title" size="40" type="VARCHAR"/>
        <column name="phone_country_code" type="INTEGER"/>
        <column name="phone_area_code" type="INTEGER"/>
        <column name="phone_phone_number" size="20" type="VARCHAR"/>
        <column name="fax_country_code" type="INTEGER"/>
        <column name="fax_area_code" type="INTEGER"/>
        <column name="fax_phone_number" size="20" type="VARCHAR"/>
        <column name="email" size="200" type="VARCHAR"/>
        <column name="create_datetime" required="true" type="TIMESTAMP"/>
        <column default="0" name="deleted" required="true" type="SMALLINT"/>
        <column default="1" name="notification_include" type="SMALLINT"/>
        <column name="user_id" type="INTEGER"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        
        <index name="ix_contact_fname">
            <index-column name="first_name"/>
        </index>
        <index name="ix_contact_lname">
            <index-column name="last_name"/>
        </index>
        <index name="ix_contact_orgname">
            <index-column name="organization_name"/>
        </index>
        <index name="contact_i_del">
            <index-column name="deleted"/>
        </index>
        <index name="ix_contact_fname_lname">
            <index-column name="first_name"/>
            <index-column name="last_name"/>
        </index>
        <index name="ix_contact_address">
            <index-column name="street_addres1"/>
            <index-column name="city"/>
            <index-column name="postal_code"/>
            <index-column name="street_addres2"/>
            <index-column name="state_province"/>
            <index-column name="country_code"/>
        </index>
        <index name="ix_contact_phone">
            <index-column name="phone_phone_number"/>
            <index-column name="phone_area_code"/>
            <index-column name="phone_country_code"/>
        </index>
        <index name="ix_user">
            <index-column name="user_id"/>
        </index>
    </table>
    <table name="contact_field">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="type_id" type="INTEGER"/>
        <column name="contact_id" type="INTEGER"/>
        <column name="content" required="true" size="100" type="VARCHAR"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        
        <index name="ix_contact_field_cid">
            <index-column name="contact_id"/>
        </index>
        <index name="ix_contact_field_content">
            <index-column name="content"/>
        </index>
        <foreign-key foreignTable="contact">
            <reference foreign="id" local="contact_id"/>
        </foreign-key>
        <foreign-key foreignTable="contact_field_type">
            <reference foreign="id" local="type_id"/>
        </foreign-key>
    </table>
    <table name="contact_field_type">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="entity_id" type="INTEGER"/>
        <column name="prompt_key" required="true" size="50" type="VARCHAR"/>
        <column name="data_type" required="true" size="10" type="VARCHAR"/>
        <column name="customer_readonly" type="SMALLINT"/>
        <column name="optlock" type="INTEGER" required="true"/>
        <index name="ix_cf_type_entity">
            <index-column name="entity_id"/>
        </index>
        <foreign-key foreignTable="entity">
            <reference foreign="id" local="entity_id"/>
        </foreign-key>
    </table>
    <table name="contact_map">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="contact_id" type="INTEGER"/>
        <column name="type_id" required="true" type="INTEGER"/>
        <column name="table_id" required="true" type="INTEGER"/>
        <column name="foreign_id" required="true" type="INTEGER"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        
        <index name="contact_map_i_3">
            <index-column name="contact_id"/>
        </index>
        <index name="contact_map_i_1">
            <index-column name="table_id"/>
            <index-column name="foreign_id"/>
            <index-column name="type_id"/>
        </index>
        <foreign-key foreignTable="jbilling_table">
            <reference foreign="id" local="table_id"/>
        </foreign-key>
        <foreign-key foreignTable="contact_type">
            <reference foreign="id" local="type_id"/>
        </foreign-key>
        <foreign-key foreignTable="contact">
            <reference foreign="id" local="contact_id"/>
        </foreign-key>
    </table>
    <table name="contact_type">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="entity_id" type="INTEGER"/>
        <column name="is_primary" type="SMALLINT"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>

        <foreign-key foreignTable="entity">
            <reference foreign="id" local="entity_id"/>
        </foreign-key>
    </table>
    <table name="country">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="code" required="true" size="2" type="VARCHAR"/>
    </table>
    <table name="credit_card">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="cc_number" required="true" size="100" type="VARCHAR"/>
        <column name="cc_number_plain" required="false" size="20" type="VARCHAR"/>
        <column name="cc_expiry" required="true" type="DATE"/>
        <column name="name" size="150" type="VARCHAR"/>
        <column name="cc_type" required="true" type="INTEGER"/>
        <column default="0" name="deleted" required="true" type="SMALLINT"/>
        <column name="gateway_key" size="100" type="VARCHAR"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <index name="ix_cc_number">
            <index-column name="cc_number_plain"/>
        </index>
        <index name="ix_cc_number_encrypted">
            <index-column name="cc_number"/>
        </index>
    </table>
    <table name="currency">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="symbol" required="true" size="10" type="VARCHAR"/>
        <column name="code" required="true" size="3" type="VARCHAR"/>
        <column name="country_code" required="true" size="2" type="VARCHAR"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
    </table>
    <table name="currency_entity_map">
        <column name="currency_id" type="INTEGER"/>
        <column name="entity_id" type="INTEGER"/>
        <index name="currency_entity_map_i_2">
            <index-column name="currency_id"/>
            <index-column name="entity_id"/>
        </index>
        <foreign-key foreignTable="entity">
            <reference foreign="id" local="entity_id"/>
        </foreign-key>
        <foreign-key foreignTable="currency">
            <reference foreign="id" local="currency_id"/>
        </foreign-key>
    </table>
    <table name="currency_exchange">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="entity_id" type="INTEGER"/>
        <column name="currency_id" type="INTEGER"/>
        <column name="rate" required="true" type="NUMERIC" size="22" scale="10"/>
        <column name="create_datetime" required="true" type="TIMESTAMP"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <foreign-key foreignTable="currency">
            <reference foreign="id" local="currency_id"/>
        </foreign-key>
    </table>
    <table name="customer">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="user_id" type="INTEGER"/>
        <column name="partner_id" type="INTEGER"/>
        <column name="referral_fee_paid" type="SMALLINT"/>
        <column name="invoice_delivery_method_id" required="true" type="INTEGER"/>
        <column name="notes" size="1000" type="VARCHAR"/>
        <column name="auto_payment_type" type="INTEGER"/>
        <column name="due_date_unit_id" type="INTEGER"/>
        <column name="due_date_value" type="INTEGER"/>
        <column name="df_fm" type="SMALLINT"/>
        <column name="parent_id" type="INTEGER"/>
        <column name="is_parent" type="SMALLINT"/>
        <column name="exclude_aging" default="0" required="true" type="SMALLINT"/>
        <column name="invoice_child" type="SMALLINT"/>
        <column name="current_order_id" type="INTEGER"/>
        <column name="balance_type" type="INTEGER" default="1" required="true"/>
        <column name="dynamic_balance" type="NUMERIC" size="22" scale="10"/>
        <column name="credit_limit" type="NUMERIC" size="22" scale="10"/>
        <column name="auto_recharge" type="NUMERIC" size="22" scale="10"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <index name="customer_i_2">
            <index-column name="user_id"/>
        </index>
        <foreign-key foreignTable="invoice_delivery_method">
            <reference foreign="id" local="invoice_delivery_method_id"/>
        </foreign-key>
        <foreign-key foreignTable="partner">
            <reference foreign="id" local="partner_id"/>
        </foreign-key>
        <foreign-key foreignTable="base_user">
            <reference foreign="id" local="user_id"/>
        </foreign-key>
    </table>
    <table name="entity">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="external_id" size="20" type="VARCHAR"/>
        <column name="description" required="true" size="100" type="VARCHAR"/>
        <column name="create_datetime" required="true" type="TIMESTAMP"/>
        <column name="language_id" required="true" type="INTEGER"/>
        <column name="currency_id" required="true" type="INTEGER"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <foreign-key foreignTable="currency">
            <reference foreign="id" local="currency_id"/>
        </foreign-key>
        <foreign-key foreignTable="language">
            <reference foreign="id" local="language_id"/>
        </foreign-key>
    </table>
    <table name="entity_delivery_method_map">
        <column name="method_id" type="INTEGER"/>
        <column name="entity_id" type="INTEGER"/>
        <foreign-key foreignTable="entity">
            <reference foreign="id" local="entity_id"/>
        </foreign-key>
        <foreign-key foreignTable="invoice_delivery_method">
            <reference foreign="id" local="method_id"/>
        </foreign-key>
    </table>
    <table name="entity_payment_method_map">
        <column name="entity_id" type="INTEGER"/>
        <column name="payment_method_id" type="INTEGER"/>
        <foreign-key foreignTable="payment_method">
            <reference foreign="id" local="payment_method_id"/>
        </foreign-key>
        <foreign-key foreignTable="entity">
            <reference foreign="id" local="entity_id"/>
        </foreign-key>
    </table>
    <table name="event_log">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="entity_id" type="INTEGER"/>
        <column name="user_id" type="INTEGER"/>
        <column name="affected_user_id" type="INTEGER"/>
        <column name="table_id" type="INTEGER"/>
        <column name="foreign_id" required="true" type="INTEGER"/>
        <column name="create_datetime" required="true" type="TIMESTAMP"/>
        <column name="level_field" required="true" type="INTEGER"/>
        <column name="module_id" required="true" type="INTEGER"/>
        <column name="message_id" required="true" type="INTEGER"/>
        <column name="old_num" type="INTEGER"/>
        <column name="old_str" size="1000" type="VARCHAR"/>
        <column name="old_date" type="TIMESTAMP"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        
        <index name="ix_el_main">
            <index-column name="module_id"/>
            <index-column name="message_id"/>
            <index-column name="create_datetime"/>
        </index>
        <foreign-key foreignTable="event_log_module">
            <reference foreign="id" local="module_id"/>
        </foreign-key>
        <foreign-key foreignTable="entity">
            <reference foreign="id" local="entity_id"/>
        </foreign-key>
        <foreign-key foreignTable="base_user">
            <reference foreign="id" local="user_id"/>
        </foreign-key>
        <foreign-key foreignTable="base_user">
            <reference foreign="id" local="affected_user_id"/>
        </foreign-key>
        <foreign-key foreignTable="jbilling_table">
            <reference foreign="id" local="table_id"/>
        </foreign-key>
        <foreign-key foreignTable="event_log_message">
            <reference foreign="id" local="message_id"/>
        </foreign-key>
    </table>
    <table name="event_log_message">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
    </table>
    <table name="event_log_module">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
    </table>
    <table name="filter">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="filter_set_id" required="true" type="INTEGER"/>
        <column name="type" required="true" size="255" type="VARCHAR"/>
        <column name="constraint_type" required="true" size="255" type="VARCHAR"/>
        <column name="field" required="true" size="255" type="VARCHAR"/>
        <column name="template" required="true" size="255" type="VARCHAR"/>
        <column name="visible" required="true" type="BIT"/>
        <column name="integer_value" type="INTEGER"/>
        <column name="string_value" size="255" type="VARCHAR"/>
        <column name="start_date_value" type="TIMESTAMP"/>
        <column name="end_date_value" type="TIMESTAMP"/>
        <column name="boolean_value" type="BIT"/>
        <column name="decimal_value" type="NUMERIC" size="22" scale="10"/>
        <column name="decimal_high_value" type="NUMERIC" size="22" scale="10"/>
        <column name="version" required="true" type="INTEGER"/>
        <foreign-key foreignTable="filter_set">
            <reference foreign="id" local="filter_set_id"/>
        </foreign-key>
    </table>
    <table name="filter_set">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="name" required="true" size="255" type="VARCHAR"/>
        <column name="user_id" required="true" type="INTEGER"/>
        <column name="version" required="true" type="INTEGER"/>
    </table>
    <table name="international_description">
        <column name="table_id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="foreign_id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="psudo_column" primaryKey="true" required="true"
                size="20" type="VARCHAR"/>
        <column name="language_id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="content" required="true" size="4000" type="VARCHAR"/>
        <index name="international_description_i_2">
            <index-column name="table_id"/>
            <index-column name="foreign_id"/>
            <index-column name="language_id"/>
        </index>
        <index name="int_description_i_lan">
            <index-column name="language_id"/>
        </index>
        <foreign-key foreignTable="language">
            <reference foreign="id" local="language_id"/>
        </foreign-key>
        <foreign-key foreignTable="jbilling_table">
            <reference foreign="id" local="table_id"/>
        </foreign-key>
    </table>
    <table name="invoice">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="create_datetime" required="true" type="TIMESTAMP"/>
        <column name="billing_process_id" type="INTEGER"/>
        <column name="user_id" type="INTEGER"/>
        <column name="status_id" type="INTEGER" required="true"/>
        <column name="delegated_invoice_id" type="INTEGER"/>
        <column name="due_date" required="true" type="DATE"/>
        <column name="total" required="true" type="NUMERIC" size="22" scale="10"/>
        <column default="0" name="payment_attempts" required="true" type="INTEGER"/>
        <column name="balance" type="NUMERIC" size="22" scale="10"/>
        <column name="carried_balance" required="true" type="NUMERIC" size="22" scale="10"/>
        <column default="1" name="in_process_payment" required="true" type="SMALLINT"/>
        <column name="is_review" required="true" type="INTEGER"/>
        <column name="currency_id" required="true" type="INTEGER"/>
        <column default="0" name="deleted" required="true" type="SMALLINT"/>
        <column name="paper_invoice_batch_id" type="INTEGER"/>
        <column name="customer_notes" size="1000" type="VARCHAR"/>
        <column name="public_number" size="40" type="VARCHAR"/>
        <column name="last_reminder" type="DATE"/>
        <column name="overdue_step" type="INTEGER"/>
        <column name="create_timestamp" required="true" type="TIMESTAMP"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <index name="ix_invoice_user_id">
            <index-column name="user_id"/>
            <index-column name="deleted"/>
        </index>
        <index name="ix_invoice_date">
            <index-column name="create_datetime"/>
        </index>
        <index name="ix_invoice_number">
            <index-column name="user_id"/>
            <index-column name="public_number"/>
        </index>
        <index name="ix_invoice_due_date">
            <index-column name="user_id"/>
            <index-column name="due_date"/>
        </index>
        <index name="ix_invoice_ts">
            <index-column name="create_timestamp"/>
            <index-column name="user_id"/>
        </index>
        <index name="ix_invoice_process">
            <index-column name="billing_process_id"/>
        </index>
        <foreign-key foreignTable="billing_process">
            <reference foreign="id" local="billing_process_id"/>
        </foreign-key>
        <foreign-key foreignTable="paper_invoice_batch">
            <reference foreign="id" local="paper_invoice_batch_id"/>
        </foreign-key>
        <foreign-key foreignTable="currency">
            <reference foreign="id" local="currency_id"/>
        </foreign-key>
        <foreign-key foreignTable="invoice">
            <reference foreign="id" local="delegated_invoice_id"/>
        </foreign-key>
        <foreign-key foreignTable="generic_status">
            <reference foreign="id" local="status_id"/>
        </foreign-key>
        <!--
        <foreign-key foreignTable="base_user">
            <reference foreign="id" local="user_id"/>
        </foreign-key>
        -->
    </table>
    <table name="invoice_delivery_method">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
    </table>
    <table name="invoice_line">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="invoice_id" type="INTEGER"/>
        <column name="type_id" type="INTEGER"/>
        <column name="amount" required="true" type="NUMERIC" size="22" scale="10"/>
        <column name="quantity" type="NUMERIC" size="22" scale="10"/>
        <column name="price" type="NUMERIC" size="22" scale="10"/>
        <column default="0" name="deleted" required="true" type="SMALLINT"/>
        <column name="item_id" type="INTEGER"/>
        <column name="description" size="1000" type="VARCHAR"/>
        <column name="source_user_id" type="INTEGER"/>
        <column default="0" name="is_percentage" required="true" type="SMALLINT"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <index name="ix_invoice_line_invoice_id">
            <index-column name="invoice_id"/>
        </index>
        
        <foreign-key foreignTable="invoice">
            <reference foreign="id" local="invoice_id"/>
        </foreign-key>
        <foreign-key foreignTable="item">
            <reference foreign="id" local="item_id"/>
        </foreign-key>
        <foreign-key foreignTable="invoice_line_type">
            <reference foreign="id" local="type_id"/>
        </foreign-key>
    </table>
    <table name="invoice_line_type">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="description" required="true" size="50" type="VARCHAR"/>
        <column name="order_position" required="true" type="INTEGER"/>
    </table>
    <table name="item">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="internal_number" size="50" type="VARCHAR"/>
        <column name="entity_id" type="INTEGER"/>
        <column name="percentage" type="NUMERIC" size="22" scale="10"/>
        <column name="price_manual" required="true" type="SMALLINT"/>
        <column default="0" name="deleted" required="true" type="SMALLINT"/>
        <column default="0" name="has_decimals" required="true" type="SMALLINT"/>
        <column name="gl_code" size="50" type="VARCHAR"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <index name="ix_item_ent">
            <index-column name="entity_id"/>
            <index-column name="internal_number"/>
        </index>
        <foreign-key foreignTable="entity">
            <reference foreign="id" local="entity_id"/>
        </foreign-key>
    </table>
    <table name="item_price">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="item_id" type="INTEGER"/>
        <column name="currency_id" type="INTEGER"/>
        <column name="price" required="true" type="DOUBLE"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <foreign-key foreignTable="currency">
            <reference foreign="id" local="currency_id"/>
        </foreign-key>
        <foreign-key foreignTable="item">
            <reference foreign="id" local="item_id"/>
        </foreign-key>
    </table>
    <table name="item_type">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="entity_id" required="true" type="INTEGER"/>
        <column name="description" size="100" type="VARCHAR"/>
        <column name="order_line_type_id" required="true" type="INTEGER"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <foreign-key foreignTable="entity">
            <reference foreign="id" local="entity_id"/>
        </foreign-key>
    </table>
    <table name="item_type_map">
        <column name="item_id" type="INTEGER"/>
        <column name="type_id" type="INTEGER"/>
        <foreign-key foreignTable="item">
            <reference foreign="id" local="item_id"/>
        </foreign-key>
        <foreign-key foreignTable="item_type">
            <reference foreign="id" local="type_id"/>
        </foreign-key>
    </table>
    <table name="item_type_exclude_map">
        <column name="item_id" type="INTEGER"/>
        <column name="type_id" type="INTEGER"/>
        <foreign-key foreignTable="item">
            <reference foreign="id" local="item_id"/>
        </foreign-key>
        <foreign-key foreignTable="item_type">
            <reference foreign="id" local="type_id"/>
        </foreign-key>
    </table>
    <table name="jbilling_table">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="name" required="true" size="50" type="VARCHAR"/>
    </table>
    <table name="jbilling_seqs">
        <column name="name" required="true" size="50" type="VARCHAR"/>
        <column default="0" name="next_id" required="true" type="INTEGER"/>
    </table>
    <table name="language">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="code" required="true" size="2" type="VARCHAR"/>
        <column name="description" required="true" size="50" type="VARCHAR"/>
    </table>
    <table name="notification_message">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="type_id" type="INTEGER"/>
        <column name="entity_id" required="true" type="INTEGER"/>
        <column name="language_id" required="true" type="INTEGER"/>
        <column default="1" name="use_flag" required="true" type="SMALLINT"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <foreign-key foreignTable="language">
            <reference foreign="id" local="language_id"/>
        </foreign-key>
        <foreign-key foreignTable="notification_message_type">
            <reference foreign="id" local="type_id"/>
        </foreign-key>
        <foreign-key foreignTable="entity">
            <reference foreign="id" local="entity_id"/>
        </foreign-key>
    </table>
    <table name="notification_message_arch">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="type_id" type="INTEGER"/>
        <column name="create_datetime" required="true" type="TIMESTAMP"/>
        <column name="user_id" type="INTEGER"/>
        <column name="result_message" size="200" type="VARCHAR"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
    </table>
    <table name="notification_message_arch_line">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="message_archive_id" type="INTEGER"/>
        <column name="section" required="true" type="INTEGER"/>
        <column name="content" required="true" size="1000" type="VARCHAR"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <foreign-key foreignTable="notification_message_arch" name="notif_mess_arch_line_FK_1">
            <reference foreign="id" local="message_archive_id"/>
        </foreign-key>
    </table>
    <table name="notification_message_line">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="message_section_id" type="INTEGER"/>
        <column name="content" required="true" size="1000" type="VARCHAR"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <foreign-key foreignTable="notification_message_section">
            <reference foreign="id" local="message_section_id"/>
        </foreign-key>
    </table>
    <table name="notification_message_section">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="message_id" type="INTEGER"/>
        <column name="section" type="INTEGER"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <foreign-key foreignTable="notification_message">
            <reference foreign="id" local="message_id"/>
        </foreign-key>
    </table>
    <table name="notification_message_type">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="category_id" required="true" type="INTEGER"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <foreign-key foreignTable="notification_category">
            <reference foreign="id" local="category_id"/>
        </foreign-key>
    </table>
    <table name="notification_category">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
    </table>
    <table name="order_billing_type">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
    </table>
    <table name="order_line">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="order_id" type="INTEGER"/>
        <column name="item_id" type="INTEGER"/>
        <column name="type_id" type="INTEGER"/>
        <column name="amount" required="true" type="NUMERIC" size="22" scale="10"/>
        <column name="quantity" type="NUMERIC" size="22" scale="10"/>
        <column name="price" type="NUMERIC" size="22" scale="10"/>
        <column name="item_price" type="SMALLINT"/>
        <column name="create_datetime" required="true" type="TIMESTAMP"/>
        <column default="0" name="deleted" required="true" type="SMALLINT"/>
        <column name="use_item" required="true" type="BIT"/>
        <column name="description" size="1000" type="VARCHAR"/>
        <column name="provisioning_status" type="INTEGER"/>
        <column name="provisioning_request_id" size="50" type="VARCHAR"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <index name="ix_order_line_order_id">
            <index-column name="order_id"/>
        </index>
        <index name="ix_order_line_item_id">
            <index-column name="item_id"/>
        </index>
        <foreign-key foreignTable="item">
            <reference foreign="id" local="item_id"/>
        </foreign-key>
        <foreign-key foreignTable="purchase_order">
            <reference foreign="id" local="order_id"/>
        </foreign-key>
        <foreign-key foreignTable="order_line_type">
            <reference foreign="id" local="type_id"/>
        </foreign-key>
    </table>
    <table name="order_line_type">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="editable" required="true" type="SMALLINT"/>
    </table>
    <table name="order_period">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="entity_id" type="INTEGER"/>
        <column name="value" type="INTEGER"/>
        <column name="unit_id" type="INTEGER"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <foreign-key foreignTable="entity">
            <reference foreign="id" local="entity_id"/>
        </foreign-key>
        <foreign-key foreignTable="period_unit">
            <reference foreign="id" local="unit_id"/>
        </foreign-key>
    </table>
    <table name="order_process">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="order_id" type="INTEGER"/>
        <column name="invoice_id" type="INTEGER"/>
        <column name="billing_process_id" type="INTEGER"/>
        <column name="periods_included" type="INTEGER"/>
        <column name="period_start" type="DATE"/>
        <column name="period_end" type="DATE"/>
        <column name="is_review" required="true" type="INTEGER"/>
        <column name="origin" type="INTEGER"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        
        
        <index name="ix_uq_order_process_or_in">
            <index-column name="order_id"/>
            <index-column name="invoice_id"/>
        </index>
        <index name="ix_uq_order_process_or_bp">
            <index-column name="order_id"/>
            <index-column name="billing_process_id"/>
        </index>
        <index name="ix_order_process_in">
            <index-column name="invoice_id"/>
        </index>
        <foreign-key foreignTable="purchase_order">
            <reference foreign="id" local="order_id"/>
        </foreign-key>
    </table>
    <table name="paper_invoice_batch">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="total_invoices" required="true" type="INTEGER"/>
        <column name="delivery_date" type="DATE"/>
        <column name="is_self_managed" required="true" type="SMALLINT"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
    </table>
    <table name="partner">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="user_id" type="INTEGER"/>
        <column name="balance" required="true" type="NUMERIC" size="22" scale="10"/>
        <column name="total_payments" required="true" type="NUMERIC" size="22" scale="10"/>
        <column name="total_refunds" required="true" type="NUMERIC" size="22" scale="10"/>
        <column name="total_payouts" required="true" type="NUMERIC" size="22" scale="10"/>
        <column name="percentage_rate" type="NUMERIC" size="22" scale="10"/>
        <column name="referral_fee" type="NUMERIC" size="22" scale="10"/>
        <column name="fee_currency_id" type="INTEGER"/>
        <column name="one_time" required="true" type="SMALLINT"/>
        <column name="period_unit_id" required="true" type="INTEGER"/>
        <column name="period_value" required="true" type="INTEGER"/>
        <column name="next_payout_date" required="true" type="DATE"/>
        <column name="due_payout" type="NUMERIC" size="22" scale="10"/>
        <column name="automatic_process" required="true" type="SMALLINT"/>
        <column name="related_clerk" type="INTEGER"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <index name="partner_i_3">
            <index-column name="user_id"/>
        </index>
        <foreign-key foreignTable="period_unit">
            <reference foreign="id" local="period_unit_id"/>
        </foreign-key>
        <foreign-key foreignTable="currency">
            <reference foreign="id" local="fee_currency_id"/>
        </foreign-key>
        <foreign-key foreignTable="base_user">
            <reference foreign="id" local="related_clerk"/>
        </foreign-key>
        <foreign-key foreignTable="base_user">
            <reference foreign="id" local="user_id"/>
        </foreign-key>
    </table>
    <table name="partner_payout">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="starting_date" required="true" type="DATE"/>
        <column name="ending_date" required="true" type="DATE"/>
        <column name="payments_amount" required="true" type="NUMERIC" size="22" scale="10"/>
        <column name="refunds_amount" required="true" type="NUMERIC" size="22" scale="10"/>
        <column name="balance_left" required="true" type="NUMERIC" size="22" scale="10"/>
        <column name="payment_id" type="INTEGER"/>
        <column name="partner_id" type="INTEGER"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <index name="partner_payout_i_2">
            <index-column name="partner_id"/>
        </index>
        <foreign-key foreignTable="partner">
            <reference foreign="id" local="partner_id"/>
        </foreign-key>
    </table>
    <table name="partner_range">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="partner_id" type="INTEGER"/>
        <column name="percentage_rate" type="NUMERIC" size="22" scale="10"/>
        <column name="referral_fee" type="NUMERIC" size="22" scale="10"/>
        <column name="range_from" required="true" type="INTEGER"/>
        <column name="range_to" required="true" type="INTEGER"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <index name="partner_range_p">
            <index-column name="partner_id"/>
        </index>
    </table>
    <table name="payment">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="user_id" type="INTEGER"/>
        <column name="attempt" type="INTEGER"/>
        <column name="result_id" type="INTEGER"/>
        <column name="amount" required="true" type="NUMERIC" size="22" scale="10"/>
        <column name="create_datetime" required="true" type="TIMESTAMP"/>
        <column name="update_datetime" type="TIMESTAMP"/>
        <column name="payment_date" type="DATE"/>
        <column name="method_id" required="true" type="INTEGER"/>
        <column name="credit_card_id" type="INTEGER"/>
        <column default="0" name="deleted" required="true" type="SMALLINT"/>
        <column default="0" name="is_refund" required="true" type="SMALLINT"/>
        <column default="0" name="is_preauth" required="true" type="SMALLINT"/>
        <column name="payment_id" type="INTEGER"/>
        <column name="currency_id" required="true" type="INTEGER"/>
        <column name="payout_id" type="INTEGER"/>
        <column name="ach_id" type="INTEGER"/>
        <column name="balance" type="NUMERIC" size="22" scale="10"/>
        <column name="payment_period" type="INTEGER"/>
        <column name="payment_notes" size="500" type="VARCHAR"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <index name="payment_i_2">
            <index-column name="user_id"/>
            <index-column name="create_datetime"/>
        </index>
        <index name="payment_i_3">
            <index-column name="user_id"/>
            <index-column name="balance"/>
        </index>
        <foreign-key foreignTable="ach">
            <reference foreign="id" local="ach_id"/>
        </foreign-key>
        <foreign-key foreignTable="currency">
            <reference foreign="id" local="currency_id"/>
        </foreign-key>
        <foreign-key foreignTable="payment">
            <reference foreign="id" local="payment_id"/>
        </foreign-key>
        <foreign-key foreignTable="credit_card">
            <reference foreign="id" local="credit_card_id"/>
        </foreign-key>
        <foreign-key foreignTable="payment_result">
            <reference foreign="id" local="result_id"/>
        </foreign-key>
        <foreign-key foreignTable="payment_method">
            <reference foreign="id" local="method_id"/>
        </foreign-key>
        <!--
        <foreign-key foreignTable="base_user">
            <reference foreign="id" local="user_id"/>
        </foreign-key>
        -->
    </table>
    <table name="payment_authorization">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="payment_id" type="INTEGER"/>
        <column name="processor" required="true" size="40" type="VARCHAR"/>
        <column name="code1" required="true" size="40" type="VARCHAR"/>
        <column name="code2" size="40" type="VARCHAR"/>
        <column name="code3" size="40" type="VARCHAR"/>
        <column name="approval_code" size="20" type="VARCHAR"/>
        <column name="avs" size="20" type="VARCHAR"/>
        <column name="transaction_id" size="40" type="VARCHAR"/>
        <column name="md5" size="100" type="VARCHAR"/>
        <column name="card_code" size="100" type="VARCHAR"/>
        <column name="create_datetime" required="true" type="DATE"/>
        <column name="response_message" size="200" type="VARCHAR"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <index name="create_datetime">
            <index-column name="create_datetime"/>
        </index>
        <index name="transaction_id">
            <index-column name="transaction_id"/>
        </index>
        <index name="ix_pa_payment">
            <index-column name="payment_id"/>
        </index>
        <foreign-key foreignTable="payment">
            <reference foreign="id" local="payment_id"/>
        </foreign-key>
    </table>
    <table name="payment_info_cheque">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="payment_id" type="INTEGER"/>
        <column name="bank" size="50" type="VARCHAR"/>
        <column name="cheque_number" size="50" type="VARCHAR"/>
        <column name="cheque_date" type="DATE"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <foreign-key foreignTable="payment">
            <reference foreign="id" local="payment_id"/>
        </foreign-key>
    </table>
    <table name="payment_invoice">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="payment_id" type="INTEGER"/>
        <column name="invoice_id" type="INTEGER"/>
        <column name="amount" type="NUMERIC" size="22" scale="10"/>
        <column name="create_datetime" required="true" type="TIMESTAMP"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <index name="ix_uq_payment_inv_map_pa_in">
            <index-column name="payment_id"/>
            <index-column name="invoice_id"/>
        </index>
        <foreign-key foreignTable="invoice">
            <reference foreign="id" local="invoice_id"/>
        </foreign-key>
        <foreign-key foreignTable="payment">
            <reference foreign="id" local="payment_id"/>
        </foreign-key>
    </table>
    <table name="payment_method">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
    </table>
    <table name="payment_result">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
    </table>
    <table name="period_unit">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
    </table>
    <table name="permission">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="type_id" required="true" type="INTEGER"/>
        <column name="foreign_id" type="INTEGER"/>
        <foreign-key foreignTable="permission_type">
            <reference foreign="id" local="type_id"/>
        </foreign-key>
    </table>
    <table name="permission_role_map">
        <column name="permission_id" type="INTEGER"/>
        <column name="role_id" type="INTEGER"/>
        <index name="permission_role_map_i_2">
            <index-column name="permission_id"/>
            <index-column name="role_id"/>
        </index>
        <foreign-key foreignTable="role">
            <reference foreign="id" local="role_id"/>
        </foreign-key>
        <foreign-key foreignTable="permission">
            <reference foreign="id" local="permission_id"/>
        </foreign-key>
    </table>
    <table name="permission_type">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="description" required="true" size="30" type="VARCHAR"/>
    </table>
    <table name="permission_user">
        <column name="permission_id" type="INTEGER"/>
        <column name="user_id" type="INTEGER"/>
        <column name="is_grant" required="true" type="SMALLINT"/>
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <index name="permission_user_map_i_2">
            <index-column name="permission_id"/>
            <index-column name="user_id"/>
        </index>
        <foreign-key foreignTable="base_user">
            <reference foreign="id" local="user_id"/>
        </foreign-key>
        <foreign-key foreignTable="permission">
            <reference foreign="id" local="permission_id"/>
        </foreign-key>
    </table>
    <table name="pluggable_task">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="entity_id" required="true" type="INTEGER"/>
        <column name="type_id" type="INTEGER"/>
        <column name="processing_order" required="true" type="INTEGER"/>
        <column name="notes" required="false" type="VARCHAR" size="1000" />
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <foreign-key foreignTable="pluggable_task_type">
            <reference foreign="id" local="type_id"/>
        </foreign-key>
        <foreign-key foreignTable="entity">
            <reference foreign="id" local="entity_id"/>
        </foreign-key>
    </table>
    <table name="pluggable_task_parameter">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="task_id" type="INTEGER"/>
        <column name="name" required="true" size="50" type="VARCHAR"/>
        <column name="int_value" type="INTEGER"/>
        <column name="str_value" size="500" type="VARCHAR"/>
        <column name="float_value" type="NUMERIC" size="22" scale="10"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <foreign-key foreignTable="pluggable_task">
            <reference foreign="id" local="task_id"/>
        </foreign-key>
    </table>
    <table name="pluggable_task_type">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="category_id" required="true" type="INTEGER"/>
        <column name="class_name" required="true" size="200" type="VARCHAR"/>
        <column name="min_parameters" required="true" type="INTEGER"/>
        <foreign-key foreignTable="pluggable_task_type_category">
            <reference foreign="id" local="category_id"/>
        </foreign-key>
    </table>
    <table name="pluggable_task_type_category">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="interface_name" required="true" size="200" type="VARCHAR"/>
    </table>
    <table name="preference">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="type_id" type="INTEGER"/>
        <column name="table_id" required="true" type="INTEGER"/>
        <column name="foreign_id" required="true" type="INTEGER"/>
        <column name="value" size="200" type="VARCHAR"/>
        <foreign-key foreignTable="preference_type">
            <reference foreign="id" local="type_id"/>
        </foreign-key>
        <foreign-key foreignTable="jbilling_table">
            <reference foreign="id" local="table_id"/>
        </foreign-key>
    </table>
    <table name="preference_type">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="def_value" size="200" type="VARCHAR"/>
    </table>
    <table name="promotion">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="item_id" type="INTEGER"/>
        <column name="code" required="true" size="50" type="VARCHAR"/>
        <column name="notes" size="200" type="VARCHAR"/>
        <column name="once" required="true" type="SMALLINT"/>
        <column name="since" type="DATE"/>
        <column name="until" type="DATE"/>
        <index name="ix_promotion_code">
            <index-column name="code"/>
        </index>
        <foreign-key foreignTable="item">
            <reference foreign="id" local="item_id"/>
        </foreign-key>
    </table>
    <table name="purchase_order">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="user_id" type="INTEGER"/>
        <column name="period_id" type="INTEGER"/>
        <column name="billing_type_id" required="true" type="INTEGER"/>
        <column name="active_since" type="DATE"/>
        <column name="active_until" type="DATE"/>
        <column name="cycle_start" type="DATE"/>
        <column name="create_datetime" required="true" type="TIMESTAMP"/>
        <column name="next_billable_day" type="DATE"/>
        <column name="created_by" required="false" type="INTEGER"/>
        <column name="status_id" required="true" type="INTEGER"/>
        <column name="currency_id" required="true" type="INTEGER"/>
        <column default="0" name="deleted" required="true" type="SMALLINT"/>
        <column name="notify" type="SMALLINT"/>
        <column name="last_notified" type="TIMESTAMP"/>
        <column name="notification_step" type="INTEGER"/>
        <column name="due_date_unit_id" type="INTEGER"/>
        <column name="due_date_value" type="INTEGER"/>
        <column name="df_fm" type="SMALLINT"/>
        <column name="anticipate_periods" type="INTEGER"/>
        <column name="own_invoice" type="SMALLINT"/>
        <column name="notes" size="200" type="VARCHAR"/>
        <column name="notes_in_invoice" type="SMALLINT"/>
        <column name="is_current" type="SMALLINT"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        
        <index name="purchase_order_i_user">
            <index-column name="user_id"/>
            <index-column name="deleted"/>
        </index>
        <index name="purchase_order_i_notif">
            <index-column name="active_until"/>
            <index-column name="notification_step"/>
        </index>
        <index name="ix_purchase_order_date">
            <index-column name="user_id"/>
            <index-column name="create_datetime"/>
        </index>
        <foreign-key foreignTable="currency">
            <reference foreign="id" local="currency_id"/>
        </foreign-key>
        <foreign-key foreignTable="order_billing_type">
            <reference foreign="id" local="billing_type_id"/>
        </foreign-key>
        <foreign-key foreignTable="order_period">
            <reference foreign="id" local="period_id"/>
        </foreign-key>
        <foreign-key foreignTable="base_user">
            <reference foreign="id" local="user_id"/>
        </foreign-key>
        <foreign-key foreignTable="base_user">
            <reference foreign="id" local="created_by"/>
        </foreign-key>
        <foreign-key foreignTable="generic_status">
            <reference foreign="id" local="status_id"/>
        </foreign-key>
    </table>
    <table name="recent_item">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="type" required="true" size="255" type="VARCHAR"/>
        <column name="object_id" required="true" type="INTEGER"/>
        <column name="user_id" required="true" type="INTEGER"/>
        <column name="version" required="true" type="INTEGER"/>
    </table>
    <table name="report">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="type_id" required="true" type="INTEGER"/>
        <column name="name" required="true" size="255" type="VARCHAR"/>
        <column name="file_name" required="true" size="255" type="VARCHAR"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <foreign-key foreignTable="report_type">
            <reference foreign="id" local="type_id"/>
        </foreign-key>
    </table>
    <table name="report_type">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="name" required="true" size="255" type="VARCHAR"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
    </table>
    <table name="report_parameter">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="report_id" required="true" type="INTEGER"/>
        <column name="dtype" required="true" size="10" type="VARCHAR"/>
        <column name="name" required="true" size="255" type="VARCHAR"/>
        <foreign-key foreignTable="report">
            <reference foreign="id" local="report_id"/>
        </foreign-key>
    </table>
    <table name="entity_report_map">
        <column name="report_id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="entity_id" primaryKey="true" required="true" type="INTEGER"/>
        <foreign-key foreignTable="report">
            <reference foreign="id" local="report_id"/>
        </foreign-key>
        <foreign-key foreignTable="entity">
            <reference foreign="id" local="entity_id"/>
        </foreign-key>
    </table>
    <table name="role">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
    </table>
    <table name="user_credit_card_map">
        <column name="user_id" type="INTEGER"/>
        <column name="credit_card_id" type="INTEGER"/>
        <index name="user_credit_card_map_i_2">
            <index-column name="user_id"/>
            <index-column name="credit_card_id"/>
        </index>
    </table>
    <table name="user_role_map">
        <column name="user_id" type="INTEGER"/>
        <column name="role_id" type="INTEGER"/>
        <index name="user_role_map_i_2">
            <index-column name="user_id"/>
            <index-column name="role_id"/>
        </index>
        <index name="user_role_map_i_role">
            <index-column name="role_id"/>
        </index>
        <foreign-key foreignTable="role">
            <reference foreign="id" local="role_id"/>
        </foreign-key>
        <foreign-key foreignTable="base_user">
            <reference foreign="id" local="user_id"/>
        </foreign-key>
    </table>
    <table name="mediation_cfg">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="entity_id" type="INTEGER" required="true"/>
        <column name="create_datetime" required="true" type="TIMESTAMP"/>
        <column name="name" size="50" type="VARCHAR" required="true"/>
        <column name="order_value" type="INTEGER" required="true"/>
        <column name="pluggable_task_id" type="INTEGER" required="true"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <foreign-key foreignTable="pluggable_task">
            <reference foreign="id" local="pluggable_task_id"/>
        </foreign-key>
    </table>
    <table name="mediation_process">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="configuration_id" type="INTEGER" required="true"/>
        <column name="start_datetime" required="true" type="TIMESTAMP"/>
        <column name="end_datetime" required="false" type="TIMESTAMP"/>
        <column name="orders_affected" type="INTEGER" required="true"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <foreign-key foreignTable="mediation_cfg">
            <reference foreign="id" local="configuration_id"/>
        </foreign-key>
    </table>
    <table name="mediation_order_map">
        <column name="mediation_process_id" type="INTEGER" required="true"/>
        <column name="order_id" type="INTEGER" required="true"/>
        <foreign-key foreignTable="mediation_process">
            <reference foreign="id" local="mediation_process_id"/>
        </foreign-key>
        <foreign-key foreignTable="purchase_order">
            <reference foreign="id" local="order_id"/>
        </foreign-key>
    </table>
    <table name="mediation_record">
        <column name="id" primaryKey="true" required="true" type="INTEGER"/>
        <column name="id_key" type="VARCHAR" size="100" required="true"/>
        <column name="start_datetime" required="true" type="TIMESTAMP"/>
        <column name="mediation_process_id" type="INTEGER" required="false"/>
        <column name="status_id" required="true" type="INTEGER"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <index name="mediation_record_i">
            <index-column name="id"/>
            <index-column name="status_id"/>
        </index>
        <foreign-key foreignTable="mediation_process">
            <reference foreign="id" local="mediation_process_id"/>
        </foreign-key>
        <foreign-key foreignTable="generic_status">
            <reference foreign="id" local="status_id"/>
        </foreign-key>
    </table>
    <table name="mediation_record_line">
        <column name="id" primaryKey="true" type="INTEGER" required="true"/>
        <column name="mediation_record_id" type="VARCHAR" size="100" required="true"/>
        <column name="order_line_id" required="true" type="INTEGER"/>
        <column name="event_date" required="true" type="TIMESTAMP"/>
        <column name="amount" required="true" type="NUMERIC" size="22" scale="10"/>
        <column name="quantity" required="true" type="NUMERIC" size="22" scale="10"/>
        <column name="description" type="VARCHAR" required="false" size="200"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <foreign-key foreignTable="mediation_record">
            <reference foreign="id" local="mediation_record_id"/>
        </foreign-key>
        <foreign-key foreignTable="order_line">
            <reference foreign="id" local="order_line_id"/>
        </foreign-key>
        <index name="ix_mrl_order_line">
            <index-column name="order_line_id"/>
        </index>
    </table>
    
    <table name="blacklist">
        <column name="id" primaryKey="true" type="INTEGER" required="true"/>
        <column name="entity_id" type="INTEGER" required="true"/>
        <column name="create_datetime" type="TIMESTAMP" required="true"/>
        <column name="type" type="INTEGER" required="true"/>
        <column name="source" type="INTEGER" required="true"/>
        <column name="credit_card" type="INTEGER"/>
        <column name="credit_card_id" type="INTEGER"/>
        <column name="contact_id" type="INTEGER"/>
        <column name="user_id" type="INTEGER"/>
        <column name="OPTLOCK" required="true" type="INTEGER"/>
        <foreign-key foreignTable="entity">
            <reference foreign="id" local="entity_id"/>
        </foreign-key>
        <!--
        <foreign-key foreignTable="credit_card">
            <reference foreign="id" local="credit_card_id"/>
        </foreign-key>
        <foreign-key foreignTable="contact">
            <reference foreign="id" local="contact_id"/>
        </foreign-key>
        -->
        <foreign-key foreignTable="base_user">
            <reference foreign="id" local="user_id"/>
        </foreign-key>
        <index name="ix_blacklist_user_type">
            <index-column name="user_id"/>
            <index-column name="type"/>
        </index>
        <index name="ix_blacklist_entity_type">
            <index-column name="entity_id"/>
            <index-column name="type"/>
        </index>
    </table>
    <table name="generic_status_type">
        <column name="id" primaryKey="true" size="40" type="VARCHAR" required="true"/>
    </table>
    <table name="generic_status">
        <column name="id" primaryKey="true" type="INTEGER" required="true"/>
        <column name="dtype" size="40" type="VARCHAR" required="true"/>
        <column name="status_value" type="INTEGER" required="true"/>
        <column name="can_login" type="SMALLINT"/>
        <foreign-key foreignTable="generic_status_type">
            <reference foreign="id" local="dtype"/>
        </foreign-key>
    </table>
    <table name="shortcut">
        <column name="id" primaryKey="true" type="INTEGER" required="true"/>
        <column name="user_id" type="INTEGER" required="true"/>
        <column name="controller" type="VARCHAR" size="255" required="true"/>
        <column name="action" type="VARCHAR" size="255"/>
        <column name="name" type="VARCHAR" size="255"/>
        <column name="object_id" type="INTEGER"/>
        <column name="version" required="true" type="INTEGER"/>
    </table>
</database>
